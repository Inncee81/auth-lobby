<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <meta charset="utf-8">
  <title>Fission Lobby IPFS Worker</title>
</head>
<body>

  <!-- <script>
    const worker = new SharedWorker("worker.min.js")
    window.onmessage = ({ ports }) => ports[0].postMessage("connect", [ worker.port ])
  </script> -->

  <script>
    const channel = new MessageChannel()
    const worker = new Worker("worker.min.js")

    worker.postMessage("setup", [ channel.port2 ])
    window.onmessage = e => e.ports[0].postMessage("connect", [ channel.port1 ])
  </script>

  <!-- Service worker -->
  <!-- <script>
    if ("serviceWorker" in navigator) {
      window.addEventListener("load", () => {
        navigator.serviceWorker.register("./service-worker.js")
      })
    }
  </script> -->

</body>
</html>
